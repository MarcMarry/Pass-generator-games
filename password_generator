import string
import random
import time
import datetime

def new_pass():
    print("Your password needs at least 5 characters")
    time.sleep(1)

    while True:

        l = int(input("How many letters should be in your password: "))
        d = int(input("How many digits should be in your password: "))
        s = int(input("How many special characters should be in your password: "))

        x = l + d + s

        if x < 5:
            print("\nAs I have mentioned, you need at least 5 characters\n")
            continue
        else:
            break
         

    special_char = "".join(random.choice(string.punctuation) for _ in range(s))
    numbers = "".join(random.choice(string.digits) for _ in range(d))
    letter = "".join(random.choice(string.ascii_letters) for _ in range(l))


    all_char = special_char + numbers + letter
    all_char_list = list(all_char)
    random.shuffle(all_char_list)
    password = "".join(all_char_list)

    return password


def play():
    print("This is a rock, paper, scissors game, so good luck !\n")
    game = ["rock", "paper", "scissors"]

    PC = 0
    you = 0

    while True:
        computer = random.choice(game)
        guess = input("Rock, paper or scissors?: ").lower()

        if guess not in game:
            print("You need to write rock, paper or scissors, so try it one more time")
            continue
        elif guess == computer:
            print("Tie !")
        elif guess == "rock" and computer == "scissors" or guess == "scissors" and computer == "paper" or guess == "paper" and computer == "rock":
            you += 1
            print("Point for you ! Well Done !")
            print(f"Score {you}:{PC}\n")
            if you == 3:
                print("You are the WINNER, congrats !!!")
                print(f"The final score is {you}:{PC}\n")
                ask = input("Would you like to play again ?(yes/no): ").lower()
                if ask not in ["yes", "no"]:
                    print("You need to write YES or NO")
                    continue
                else:
                    break
                if ask == "no":
                    print("Ok, so have a good day :)")
                    print("See you next time :)")
                    break
                elif ask == "yes":
                    print("Let's give it another shot then")
                    play() 
                    break               
        else:
            PC +=1
            print(f"The PC beat you up !")
            print(f"Score {you}:{PC}\n")
            if PC == 3:
                print("You lost, maybe next time")
                print(f"The final score is {you}:{PC}")
                ask = input("Would you like to play again ?(yes/no): ").lower()
                if ask not in ["yes", "no"]:
                    print("You need to write YES or NO")
                    continue
                else:
                    break
                if ask == "no":
                    print("Ok, so have a good day :)")
                    print("See you next time :)")
                    break
                elif ask == "yes":
                    print("Let's give it another shot then")
                    play()
                    break
            

def triangle():
    times = int(input("What should be the length of the triangle side ? Enter a number: "))   
    symbol = input("What symbol do you want to see?: ")

    for i in range(0, times+1):
        print((symbol + " ")*i)


name = input("What is your name?: ")
time.sleep(2)
print(f"Welcome {name}")
time.sleep(1)
print("This is a simple password generator")
time.sleep(2)

today = datetime.datetime.now().strftime("%m-%B-%Y %H:%M:%S")
print(f"Current date: {today}")
time.sleep(1)


while True:
    question = input("Would you like to create a new password? (yes/no) ").lower()
    if question in ["yes", "no"]:
        if question == "no":
            while True:
                answer = input("Ok, so would you like to play a short game ? (yes/no) ").lower()
                if answer not in ["yes", "no"]:
                    print("You need to write YES or NO")
                    continue
                elif answer == "yes":
                    print("Let's count together !!!")
                    time.sleep(1)
                    for i in range(3,0,-1):
                        print(i)
                        time.sleep(1)
                    print("LET'S GO !!!!")
                    time.sleep(1)
                    play()
                    break  
                elif answer == "no":
                    print(" What a shame, have a nice day tho!")
                    break        
        elif question == "yes":
            password = new_pass()

            with open("new_pasw", "a") as f:
                new_pasw = f.write("Name: "+ name + " | " + "Password: " + password + "\n")
                
            print('Your new password is: "',password,'" and you can find this password stored in the text document')
            triangle_print = input("Do you want me to draw at least a triangle for you ? (yes/no) ").lower()
            if triangle_print  not in ["yes", "no"]:
                print("You need to write YES or NO")
                continue
            elif triangle_print == "yes":
                triangle()
                print("\nI hope you liked it :)")
                ask2 = input("And what about a game ? (yes/no): ").lower()
                if ask2 not in ["yes", "no"]:
                    print("You need to write YES or NO")
                    continue
                elif ask2 == "yes":
                    play()
                else:
                    print("Ok, as you wish, so have a nice day")
                    break
            else:
                print("As you wish")
                ask2 = input("And what about a game ? (yes/no): ").lower()
                if ask2 not in ["yes", "no"]:
                    print("You need to write YES or NO")
                    continue
                elif ask2 == "yes":
                    play()
                    break
    else:
        print("Wrong answer, you need to write YES or NO")
        continue
    




  
















